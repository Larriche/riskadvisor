## About App

This app consists of a client-facing form used to gather submissions for insurance quotes and a Jetstream-powered backend for
viewing submissions. The following technologies were used:

- Laravel v10.47.0
- Vue 3
- Tailwind
- Inertia
- Jetstream

## Setup instructions

The app comes with a docker setup to help you run it on your local environment. Assuming you have Docker on your machine, you can follow
these steps to get the project running.

Go into the project directory
```
cd riskadvisor
```

Run these commands to build the containers
```
docker compose build
```
```
docker compose up -d
```

This will setup containers serving the following
- An nginx instance
- A MySQL db instance for the app
- A MySQL db instance for tests
- A container instance that exposes the app for you to run php artisan and compose commands
- An instance to install node dependencies and serve the frontend of the app

Next, install project dependencies with composer
```
docker compose exec app bash -c "composer install"
```

Generate an app key for Laravel app
```
docker compose exec app bash -c "php artisan key:generate"
```

Generate an app key for test env
```
docker compose exec app bash -c "php artisan key:generate --env=testing"
```

Run migrations and seeders
```
docker compose exec app bash -c "php artisan migrate --seed"
```

To access the terminal for running further artisan or composer commands
```
docker compose exec app bash
```

You can run the project specific tests with
```
docker compose exec app bash -c "php artisan test --filter=QuoteSubmissionsTest"
```

Visit `http://localhost:8000/submission` to access the quote submission form.

Visit `http://localhost:8000` to access the admin panel. Log in with credentials

Email `admin@test.com`
Password `insure`

## Database Architecture

This is a diagram of the database models for the app without accounting for auth-related data models generated by Jetstream.

[DB model](https://dbdiagram.io/d/Insure-65eba6c6b1f3d4062c7d31b4)

NN - Not null | E - Enum definition

### Considerations
This db models were designed based on the following requirements and rationale

- Consumers can submit more than one submissions for a quote. Considering we can identify unique consumers by their email,
we store their names and email just once no matter how many quotes they submit.
- We assume all other data from the quote submission form is potentially different on a submission by submission basis so we store
them separately in a different table
- Since codes for the various US states are of a manageable number, we store them and provide them from our db instead of relying on
an external service
- We also store our various insurance product offerings and provide them dynamically to the quote form to allow for addition of more 
product offerings in the future or potentially, a Customer Success team can easily update the marketing content for these product 
offerings in the future.
- The system name field associated with insurance products can be used as a key when configuring assets for display of the products

## Project Report

In this section, we look at the time spent on various portions of this project

| Activity  | Time(h) |
| ------------- | ------------- |
|[Architecture] Architecture planning, project and tooling setup  | 1.5 |
|[Dev] Quote submission functionality and tests  | 2.5  |
|[Dev] Admin dashboard and authentication | 0.5 |
|[QA] Testing and docker setup verification | 1 |
|[Documentation] Documentation | 0.5 |



